---
import ProjectList from "../../components/project/ProjectList.astro";
import ProjectItem from "../../components/project/ProjectItem.svelte";

import Site from "../../layouts/Site.astro";

import { getCollection, type CollectionEntry } from "astro:content";

// use date
const projects: CollectionEntry<"projects">[] = (
  await getCollection("projects")
).sort((a, b) => (a.data.date > b.data.date ? -1 : 1));
---

<Site>
  <ProjectList>
    {
      projects.map((project) => (
        <ProjectItem
          project={{
            slug: project.slug,
            ...project.data,
          }}
        />
      ))
    }
  </ProjectList>
</Site>

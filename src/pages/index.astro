---
import Site from "../layouts/Site.astro";

import Hero from "../components/hero/Hero.svelte";
import Blobs from "../components/Blobs.svelte";

import ProjectItem from "../components/project/ProjectItem.svelte";
import ProjectList from "../components/project/ProjectList.astro";

import { getEntry } from "astro:content";
const featuredProjects = ["dr-trust", "digisense"];
---

<Site>
  <div id="heroWrapper" slot="header">
    <Hero client:load />
    <Blobs client:load />
  </div>
  <ProjectList>
    {
      featuredProjects.map(async (slug) => {
        const project = await getEntry("projects", slug);
        if (!project) return null;
        return <ProjectItem project={{ slug, ...project.data }} />;
      })
    }
  </ProjectList>

  <style>
    #heroWrapper {
      position: relative;
      height: 90vh;
      width: 100%;
    }
  </style>
</Site>
